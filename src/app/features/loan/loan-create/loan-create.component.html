<div class="Container p-0">
  <form [formGroup]="registerForm">
    <div class="head border-bottom p-2">
      <h3>Formulaire de saisie d'un prêt</h3>
    </div>
    <div class="body m-2 mt-4">
      <div class="row mb-2">

        <div class="col-md-4">
          <label for="responsible" class="form-label">Responsable</label>
          <select name="responsible"
            [ngClass]="{'form-select':true, 'invalid':registerForm.get('responsible')?.hasError('required')}"
            id="responsible" formControlName="responsible">
            <option></option>
            <option *ngFor="let resp of responsibles; let i = index">
              {{ resp.firstName }} {{ resp.lastName }}
            </option>
          </select>
          <small *ngIf="registerForm.get('responsible')?.hasError('required')">Veuiller définir un responsable</small>
        </div>
        
        <div class="col-md-4">
          <label for="montant" class="form-label">Montant prêt</label>
          <div class="input-group">
            <span [ngClass]="{'input-group-text':true,'invalid':registerForm.get('amount')?.hasError('required')}">

              Ar
            </span>
            <input type="number" name="montant" id="montant" placeholder="Montant prêt"
              [ngClass]="{'form-control':true, 'invalid':registerForm.get('amount')?.hasError('required')}"
              formControlName="amount" #montantPret />
            <small *ngIf="registerForm.get('amount')?.hasError('required')">Le montant du prêt doit prêt un nombre
              positif</small>
          </div>
        </div>

        <div class="col-md-4">
          <label for="percentage" class="form-label">pourcentage</label>
          <input type="number" name="percentage" id="percentage" placeholder="0%" formControlName="percentage"
            [ngClass]="{'form-control':true,'invalid':registerForm.get('percentage')?.hasError('required')}" />
          <small *ngIf="registerForm.get('percentage')?.hasError('required')">Le pourcentage doit être un nombre entre 0
            et 100</small>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="loanDate" class="form-label">Date du prêt</label>
          <input type="date" name="loanDate" id="loanDate" placeholder="dd/mm/yy" formControlName="loanDate"
            [ngClass]="{'form-control':true,'invalid':registerForm.get('loanDate')?.hasError('required')}" />
          <small *ngIf="registerForm.get('loanDate')?.hasError('required')">Veuiller définir la date du prêt </small>
        </div>
        <div class="col-md-6">
          <label for="repaymentEndDatet" class="form-label">Date fin remboursement</label>
          <input type="date" class="form-control" name="repaymentEndDatet" id="repaymentEndDatet" placeholder="dd/mm/yy"
            formControlName="repaymentEndDate"
            [ngClass]="{'form-control':true,'invalid':registerForm.get('repaymentEndDate')?.hasError('required')}" />
          <small *ngIf="registerForm.get('repaymentEndDate')?.hasError('required')">Veuiller définir la date de fin du
            remboursement </small>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="mode-remboursement" class="form-label">Mode de remboursement</label>
          <select name="mode-remboursement" id="mode-remoursement" class="form-select"
            formControlName="modeRemboursement" #modeRemboursement
            [ngClass]="{'form-select':true,'invalid':registerForm.get('modeRemboursement')?.hasError('required')}">
            <option></option>
            <option value="Mensuel">Mensuel</option>
          </select>
          <small *ngIf="registerForm.get('modeRemboursement')?.hasError('required')">Veuiller définir le Mode de
            remboursement</small>
        </div>
        <div class="col-md-6">
          <label for="capitalPayementMethod" class="form-label">Mode de payement capital</label>
          <select name="capitalPayementMethod" id="capitalPayementMethod" class="form-select"
            formControlName="capitalPayementMethod"
            [ngClass]="{'form-select':true,'invalid':registerForm.get('capitalPayementMethod')?.hasError('required')}">
            <option></option>
            <option *ngFor="let pay of paymentMethodes">{{ pay.label }}</option>
          </select>
          <small *ngIf="registerForm.get('capitalPayementMethod')?.hasError('required')">Veuiller définir le Mode de
            payement capital </small>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="remark" class="form-label">Commentaire</label>
          <textarea name="remark" class="form-control" id="remark" formControlName="remark"></textarea>
        </div>
        <div class="col-md-6">
          <label for="benefitPaymentMethod" class="form-label">Mode de payement intérêt</label>
          <select name="benefitPaymentMethod" id="benefitPaymentMethod" class="form-select"
            formControlName="benefitPaymentMethod"
            [ngClass]="{'form-select':true,'invalid':registerForm.get('benefitPaymentMethod')?.hasError('required')}">
            <option></option>
            <option *ngFor="let pay of paymentMethodes">{{ pay.label }}</option>
          </select>
          <small *ngIf="registerForm.get('benefitPaymentMethod')?.hasError('required')">Veuiller définir le Mode de
            payement intérêt </small>
        </div>
      </div>
    </div>
    <div class="foot border-top d-flex flex-row-reverse m-0 p-2">
      <button (click)="handleSubmit()" [disabled]="registerForm.invalid"
        class="btn m-0">Enregistrer</button>
    </div>
  </form>
</div>